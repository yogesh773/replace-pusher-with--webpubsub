{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/protocols/index.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAGlC,OAAO,EAAE,yBAAyB,EAAE,MAAM,4BAA4B,CAAC;AACvE,OAAO,EAAE,iCAAiC,EAAE,MAAM,oCAAoC,CAAC;AA6BvF;;GAEG;AACH,MAAM,CAAC,MAAM,qBAAqB,GAAG,GAA4B,EAAE;IACjE,OAAO,IAAI,yBAAyB,EAAE,CAAC;AACzC,CAAC,CAAC;AAEF;;GAEG;AACH,MAAM,CAAC,MAAM,6BAA6B,GAAG,GAA4B,EAAE;IACzE,OAAO,IAAI,iCAAiC,EAAE,CAAC;AACjD,CAAC,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type { WebPubSubMessage } from \"../models/messages.js\";\nimport { WebPubSubJsonProtocolImpl } from \"./webPubSubJsonProtocol.js\";\nimport { WebPubSubJsonReliableProtocolImpl } from \"./webPubSubJsonReliableProtocol.js\";\n\n/**\n * The interface to be implemented for a web pubsub subprotocol\n */\nexport interface WebPubSubClientProtocol {\n  /**\n   * The name of subprotocol. Name will be used in websocket subprotocol\n   */\n  readonly name: string;\n\n  /**\n   * True if the protocol supports reliable features\n   */\n  readonly isReliableSubProtocol: boolean;\n\n  /**\n   * Creates WebPubSubMessage objects from the specified serialized representation.\n   * @param input - The serialized representation\n   */\n  parseMessages(input: string | ArrayBuffer | Buffer): WebPubSubMessage[] | WebPubSubMessage | null;\n\n  /**\n   * Write WebPubSubMessage to string or ArrayBuffer\n   * @param message - The message to be written\n   */\n  writeMessage(message: WebPubSubMessage): string | ArrayBuffer;\n}\n\n/**\n * Return the \"json.webpubsub.azure.v1\" protocol\n */\nexport const WebPubSubJsonProtocol = (): WebPubSubClientProtocol => {\n  return new WebPubSubJsonProtocolImpl();\n};\n\n/**\n * Return the \"json.reliable.webpubsub.azure.v1\" protocol\n */\nexport const WebPubSubJsonReliableProtocol = (): WebPubSubClientProtocol => {\n  return new WebPubSubJsonReliableProtocolImpl();\n};\n"]}